# üìñ Introduction

Ansible - –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏.

# ü§î Structure of Ansible

## üìö Example Structure Ansible

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –æ–±—â–∏–π –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Ansible, –æ–Ω–∞ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–∏—Ç—å –∏–Ω–∞—á–µ.

```shell
ansible_structure
‚îú‚îÄ‚îÄ ansible.cfg          - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª Ansible
‚îú‚îÄ‚îÄ .ansible-lint        - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Ansible –ª–∏–Ω—Ç–µ—Ä–∞
‚îú‚îÄ‚îÄ ansible_playbook.yml - –ü–ª–µ–π–±—É–∫
‚îú‚îÄ‚îÄ files/               - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ —Å—Ç–∞—Ç–∏—á–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ group_vars/          - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–ª—è –≥—Ä—É–ø–ø —É–∑–ª–æ–≤
‚îú‚îÄ‚îÄ host_vars/           - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —É–∑–ª–æ–≤
‚îú‚îÄ‚îÄ inventory.ini        - –°–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ .ini
‚îú‚îÄ‚îÄ inventory.yml        - –°–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ .yml
‚îú‚îÄ‚îÄ LICENSE              - –õ–∏—Ü–µ–Ω–∑–∏—è
‚îú‚îÄ‚îÄ README.md            - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ roles/               - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ä–æ–ª—è–º–∏ Ansible
‚îú‚îÄ‚îÄ templates/           - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —à–∞–±–ª–æ–Ω–∞–º–∏
‚îî‚îÄ‚îÄ .yamllint            - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ yaml –ª–∏–Ω—Ç–µ—Ä–∞
```

–î–∞–ª–µ–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±—É–¥—É—Ç –æ–ø–∏—Å–∞–Ω—ã –ø–æ–¥—Ä–æ–±–Ω–µ–µ.

## üìë Ansible Playbook

–û—Å–Ω–æ–≤–Ω–æ–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –≤ Ansible - –≠—Ç–æ ansible playbook.

–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –ø–ª–µ–π–±—É–∫ - –≠—Ç–æ –Ω–∞–±–æ—Ä –ø–ª–µ–µ–≤, –ø—Ä–∏–º–µ—Ä Ansible Play:

```yaml
---
- name: Simple play
  hosts: all
  tasks:
    - name: Hello World
      ansible.builtin.debug:
        msg: Hello World
```

Ansible Play - –≠—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –Ω–∞–±–æ—Ä —Ç–∞—Å–∫–æ–≤ –∏/–∏–ª–∏ —Ä–æ–ª–µ–π –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –≥—Ä—É–ø–ø–µ —É–∑–ª–æ–≤.

Ansible Playbook –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.yml` –∏–ª–∏ `.yaml`

>[!TIP] –•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è `_` –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.yml`

## üìÑ Inventory

Ansible Inventory - –≠—Ç–æ —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º —Ö–æ—Å—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ini –∏–ª–∏ yaml, –∏—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ, –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –∏–º–µ—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ `inventory.yml`:

>[!TIP] –•–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ yaml Inventory

```yaml
---
all:
  hosts:
    server1:
      ansible_host: 10.10.10.10
    server2:
      ansible_host: 20.20.20.20

  children:
    web:
      hosts:
        server1:
        server2:
```

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ `inventory.ini`:

```ini
[web]
server1 ansible_host=10.10.10.10
server1 ansible_host=20.20.20.20
```

## üóÉÔ∏è Files

`files/` - –≠—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ —Å—Ç–∞—Ç–∏—á–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏, –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `files/`

```shell
files/
‚îú‚îÄ‚îÄ nginx.conf
‚îî‚îÄ‚îÄ nginx.service
```

## Group and Host vars

–í Ansible —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ host_vars –∏ group_vars –Ω—É–∂–Ω—ã –æ–Ω–∏ –¥–ª—è –±–æ–ª—å—à–µ–π –≥–∏–±–∫–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Ansible, –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –≥—Ä—É–ø–ø —É–∑–ª–æ–≤ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö

>[!INFO] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `host_vars/` —è–≤–ª—è—é—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏ —á–µ–º `group_vars/`

–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `group_vars/`:

```shell
group_vars/
‚îú‚îÄ‚îÄ all.yml
‚îî‚îÄ‚îÄ web.yml
```

>[!INFO] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –±–æ–ª–µ–µ —á–∞—Å—Ç–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö —è–≤–ª—è—é—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º–∏ —á–µ–º –≤ –æ–±—â–∏—Ö

–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `host_vars/`:

```shell
host_vars/
‚îú‚îÄ‚îÄ server1.yml
‚îî‚îÄ‚îÄ server2.yml
```

–í–Ω—É—Ç—Ä–∏ –≤—Å–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–æ–±–æ–π –ø–æ—Ö–æ–∂–∏, –≤–æ—Ç –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∏—Ö:

```yaml
base_in
nginx_install: true
```

## Templates

## Roles

---

# Ansible Tasks

---

# Structure Ansible Role

---

# Structure Ansible Collection

---

# Best practice

## Ansible.cfg

## Ansible-lint

## Yamllint

## Ansible doctor

## Ansible galaxy

---

# üåç Links

- [Ansible Website](https://www.ansible.com)

---
